var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(b){var a=0;return function(){return a<b.length?{done:!1,value:b[a++]}:{done:!0}}};$jscomp.arrayIterator=function(b){return{next:$jscomp.arrayIteratorImpl(b)}};$jscomp.makeIterator=function(b){var a="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return a?a.call(b):$jscomp.arrayIterator(b)};
var Slider=function(b,a,c){var e=this;a=void 0===a?null:a;c=void 0===c?null:c;this.m_parent=b;this.m_sliderReady=!1;this.m_parentWidth=0;window.addEventListener("resize",function(){e.recalculateSizes()},!1);this.recalculateSizes();this.m_imageChangeCallback=this.m_navigationNext=this.m_navigationPrevious=this.m_imageWrapper=this.m_mainWrapper=null;this.m_currentIndex=this.m_nbImages=0;this.m_callbackFunction=a;this.m_sliderHeight=this.m_baseSliderHeight=this.coalesce(c,"base_slider_height",350);this.m_imageGap=
this.coalesce(c,"images_gap",50);this.m_transitionDuration=this.coalesce(c,"transition_duration",300);this.m_navigationArrowsColor=this.coalesce(c,"navigation_arrows_color","#24292e");this.m_navigationArrowsDisplayed=this.coalesce(c,"navigation_arrows_displayed",!0);this.m_navigationBlocksFixedWidth=this.coalesce(c,"navigation_blocks_fixed_width",!1);this.m_navigationBlocksDefaultWidth=this.coalesce(c,"navigation_blocks_default_width","calc(100% / 3)");this.m_navigationBlocksMinimumWidth=this.coalesce(c,
"navigation_blocks_minimum_width","100px");this.m_jumpToFirstAndLastImage=this.coalesce(c,"jump_to_first_and_last_image",!1);this.m_defaultFocusedIndex=this.coalesce(c,"default_focused_index",null);this.m_images=[];this.m_links=[];this.populateImages()};Slider.prototype.coalesce=function(b,a,c){return"undefined"!=typeof b&&null!==b&&b.hasOwnProperty(a)?b[a]:c};Slider.prototype.getNbImages=function(){return this.m_nbImages};Slider.prototype.getCurrentIndex=function(){return this.m_currentIndex};
Slider.prototype.getElementFor=function(b){b>=this.m_nbImages?b=this.m_nbImages-1:0>b&&(b=0);return this.m_images[b]};Slider.prototype.getLinkFor=function(b){b>=this.m_nbImages?b=this.m_nbImages-1:0>b&&(b=0);return this.m_links[b]};Slider.prototype.recalculateSizes=function(){this.m_parentWidth=this.m_parent.clientWidth;this.m_sliderReady&&(this.m_sliderHeight=450>this.m_parentWidth?this.m_parentWidth/2:this.m_baseSliderHeight,this.resizeImageLinks(),this.resizeImages(),this.moveTo(this.m_currentIndex))};
Slider.prototype.populateImages=function(){var b=this,a=this.m_parent.querySelectorAll("img, div.slider__image");this.m_nbImages=a.length;var c=0,e=0,f=0,d={};a=$jscomp.makeIterator(a);for(var g=a.next();!g.done;d={$jscomp$loop$prop$img$9:d.$jscomp$loop$prop$img$9,$jscomp$loop$prop$i$10:d.$jscomp$loop$prop$i$10},g=a.next()){d.$jscomp$loop$prop$i$10=g.value;g=d.$jscomp$loop$prop$i$10.tagName.toLowerCase();"img"==g&&c++;d.$jscomp$loop$prop$img$9=new Map;d.$jscomp$loop$prop$img$9.set("node",d.$jscomp$loop$prop$i$10);
d.$jscomp$loop$prop$img$9.set("node_type",g);d.$jscomp$loop$prop$img$9.set("src",d.$jscomp$loop$prop$i$10.src||"#");if("img"==g)d.$jscomp$loop$prop$img$9.set("width",1),d.$jscomp$loop$prop$img$9.set("height",1),d.$jscomp$loop$prop$img$9.set("nat_width",3),d.$jscomp$loop$prop$img$9.set("nat_height",2),d.$jscomp$loop$prop$i$10.addEventListener("load",function(a){return function(){a.$jscomp$loop$prop$img$9.set("width",a.$jscomp$loop$prop$i$10.clientWidth);a.$jscomp$loop$prop$img$9.set("height",a.$jscomp$loop$prop$i$10.clientHeight);
f++;b.recalculateNaturalSize(a.$jscomp$loop$prop$img$9);f==c&&b.recalculateSizes()}}(d),!1);else{var h=g=1;"width"in d.$jscomp$loop$prop$i$10.dataset&&(g=d.$jscomp$loop$prop$i$10.dataset.width);"height"in d.$jscomp$loop$prop$i$10.dataset&&(h=d.$jscomp$loop$prop$i$10.dataset.height);d.$jscomp$loop$prop$img$9.set("width",g);d.$jscomp$loop$prop$img$9.set("height",h);d.$jscomp$loop$prop$img$9.set("nat_width",g);d.$jscomp$loop$prop$img$9.set("nat_height",h)}e++;this.m_images.push(d.$jscomp$loop$prop$img$9);
e==this.m_nbImages&&this.init()}};Slider.prototype.recalculateNaturalSize=function(b){var a=b.get("node");"img"!==b.get("node_type")||0===a.naturalWidth&&0===a.naturalHeight||b.get("nat_width")===a.naturalWidth&&b.get("nat_height")===a.naturalHeight||(b.set("nat_width",a.naturalWidth),b.set("nat_height",a.naturalHeight))};
Slider.prototype.init=function(){var b=this;this.m_parent.classList.remove("noscript");for(this.m_parent.setAttribute("tabindex","0");this.m_parent.firstChild;)this.m_parent.removeChild(this.m_parent.firstChild);var a=document.createDocumentFragment();this.m_mainWrapper=document.createElement("div");this.m_mainWrapper.classList.add("slider__main-wrapper");a.appendChild(this.m_mainWrapper);this.m_imageWrapper=document.createElement("div");this.m_imageWrapper.classList.add("slider__image-wrapper");
this.m_mainWrapper.appendChild(this.m_imageWrapper);for(var c={},e=$jscomp.makeIterator(this.m_images),f=e.next();!f.done;c={$jscomp$loop$prop$a$12:c.$jscomp$loop$prop$a$12},f=e.next()){f=f.value;c.$jscomp$loop$prop$a$12=document.createElement("a");var d=f.get("node"),g=null;g="href"in d.dataset?d.dataset.href:f.get("src");f.set("href",g);c.$jscomp$loop$prop$a$12.href=g;c.$jscomp$loop$prop$a$12.appendChild(d);null!==this.m_callbackFunction&&c.$jscomp$loop$prop$a$12.addEventListener("click",function(a){return function(c){b.m_callbackFunction(b,
c,a.$jscomp$loop$prop$a$12)}}(c),!1);this.m_imageWrapper.appendChild(c.$jscomp$loop$prop$a$12);this.m_links.push(c.$jscomp$loop$prop$a$12)}this.m_navigationPrevious=document.createElement("a");this.m_navigationPrevious.classList.add("slider__navigation");this.m_navigationPrevious.classList.add("previous");this.m_navigationPrevious.style.cursor="pointer";a.appendChild(this.m_navigationPrevious);this.m_navigationNext=document.createElement("a");this.m_navigationNext.classList.add("slider__navigation");
this.m_navigationNext.classList.add("next");this.m_navigationNext.style.cursor="pointer";a.appendChild(this.m_navigationNext);this.m_parent.appendChild(a);this.applyStyling();this.m_sliderReady=!0;this.recalculateSizes();this.addListeners()};
Slider.prototype.applyStyling=function(){this.m_parent.style.position="relative";this.m_parent.style.padding="0";for(var b=$jscomp.makeIterator([this.m_navigationPrevious,this.m_navigationNext]),a=b.next();!a.done;a=b.next())if(a=a.value,a.style.display="flex",a.style.flexDirection="row",a.style.alignItems="center",a.style.position="absolute",a.style.top="0",a.style.width=this.m_navigationBlocksDefaultWidth,a.style.minWidth=this.m_navigationBlocksMinimumWidth,a.style.height="100%",a.style.webkitTouchCallout=
"none",a.style.webkitUserSelect="none",a.style.mozUserSelect="none",a.style.msUserSelect="none",a.style.userSelect="none",a==this.m_navigationPrevious?(a.style.left="0",a.style.justifyContent="flex-end"):a==this.m_navigationNext&&(a.style.right="0",a.style.justifyContent="flex-start"),this.m_navigationArrowsDisplayed){var c=document.createElement("div");c.style.display="flex";c.style.flexDirection="row";c.style.justifyContent="center";c.style.alignItems="center";c.style.width=this.m_imageGap+"px";
c.style.height=this.m_imageGap+"px";a.appendChild(c);var e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");e.setAttributeNS(null,"version","1.1");e.setAttributeNS(null,"x","0px");e.setAttributeNS(null,"y","0px");e.setAttributeNS(null,"viewBox","0 0 50 50");e.style.width=.5*this.m_imageGap+"px";e.style.height=.5*this.m_imageGap+"px";c.appendChild(e);c=document.createElementNS("http://www.w3.org/2000/svg",
"polygon");c.style.fill=this.m_navigationArrowsColor;e.appendChild(c);a==this.m_navigationPrevious?c.setAttributeNS(null,"points","34.5,46.1 36.6,43.9 17.6,25 36.6,6.1 34.5,3.9 13.4,25 "):a==this.m_navigationNext&&c.setAttributeNS(null,"points","15.5,46.1 13.4,43.9 32.3,25 13.4,6.1 15.5,3.9 36.6,25 ")}this.m_mainWrapper.style.overflow="hidden";this.m_imageWrapper.style.display="flex";this.m_imageWrapper.style.flexDirection="row";this.m_imageWrapper.style.justifyContent="flex-start";this.m_imageWrapper.style.alignItems=
"center";b=$jscomp.makeIterator(this.m_imageWrapper.children);for(a=b.next();!a.done;a=b.next())a=a.value,a.style.marginLeft=this.m_imageGap/2+"px",a.style.marginRight=this.m_imageGap/2+"px",a.style.flexShrink="0",a.style.cursor="pointer",a.style.overflowY="hidden";this.resizeImageLinks();this.resizeImages();null!==this.m_defaultFocusedIndex?this.moveTo(this.m_defaultFocusedIndex):this.moveTo(this.getMiddleIndex())};
Slider.prototype.addListeners=function(){var b=this;this.m_parent.addEventListener("mouseenter",function(){b.focus()},!1);var a=function(a){a.preventDefault();b.previousImage()},c=function(a){a.preventDefault();b.nextImage()};this.m_navigationPrevious.addEventListener("click",a,!1);this.m_navigationNext.addEventListener("click",c,!1);document.addEventListener("keyup",function(e){if(e.target===b.m_parent)switch(e.key){case "ArrowLeft":a(e);break;case "ArrowRight":c(e)}},!1);window.addEventListener("load",
function(){setTimeout(function(){b.m_imageWrapper.style.transition="transform "+b.m_transitionDuration+"ms ease";b.m_navigationPrevious.style.transition="width "+b.m_transitionDuration+"ms ease,opacity "+b.m_transitionDuration+"ms ease";b.m_navigationNext.style.transition="width "+b.m_transitionDuration+"ms ease,opacity "+b.m_transitionDuration+"ms ease"},1)},!1);window.addEventListener("load",function(){for(var a=$jscomp.makeIterator(b.m_images),c=a.next();!c.done;c=a.next())b.recalculateNaturalSize(c.value);
b.recalculateSizes()},!1)};Slider.prototype.setImageChangeCallback=function(b){this.m_imageChangeCallback=b};Slider.prototype.previousImage=function(){return this.moveTo(this.m_currentIndex-1)};Slider.prototype.nextImage=function(){return this.moveTo(this.m_currentIndex+1)};Slider.prototype.focus=function(){var b=window.scrollX,a=window.scrollY;this.m_parent.focus();window.scrollTo(b,a)};
Slider.prototype.resizeImageLinks=function(){for(var b=$jscomp.makeIterator(this.m_imageWrapper.children),a=b.next();!a.done;a=b.next())a.value.style.height=this.m_sliderHeight+"px"};Slider.prototype.resizeImages=function(){for(var b=$jscomp.makeIterator(this.m_images),a=b.next();!a.done;a=b.next()){a=a.value;var c=a.get("node"),e=a.get("nat_width"),f=a.get("nat_height"),d=this.m_sliderHeight/f;e*=d;f*=d;a.set("width",e);a.set("height",f);c.style.width=e+"px";c.style.height=f+"px"}};
Slider.prototype.resizeNavigation=function(b){this.m_navigationBlocksFixedWidth||(b=(this.m_parentWidth-b)/2,this.m_navigationPrevious.style.width=b+"px",this.m_navigationNext.style.width=b+"px")};Slider.prototype.showNavigationPrevious=function(b){this.m_navigationPrevious.style.opacity=b?"1":"0"};Slider.prototype.showNavigationNext=function(b){this.m_navigationNext.style.opacity=b?"1":"0"};Slider.prototype.getMiddleIndex=function(){return 1==this.m_nbImages?0:Math.ceil(this.m_nbImages/2)-1};
Slider.prototype.getCurrentIndexIsFirstIndex=function(){return 0>=this.m_currentIndex};Slider.prototype.getCurrentIndexIsLastIndex=function(){return this.m_currentIndex>=this.m_nbImages-1};
Slider.prototype.moveTo=function(b){b>=this.m_nbImages&&this.m_jumpToFirstAndLastImage?b=0:b>=this.m_nbImages?b=this.m_nbImages-1:0>b&&this.m_jumpToFirstAndLastImage?b=this.m_nbImages-1:0>b&&(b=0);this.m_currentIndex=b;this.m_navigationArrowsDisplayed&&!this.m_jumpToFirstAndLastImage&&(this.showNavigationPrevious(!this.getCurrentIndexIsFirstIndex()),this.showNavigationNext(!this.getCurrentIndexIsLastIndex()));for(var a=this.m_imageGap/2,c=0;c<b;c++)a+=this.m_images[c].get("width")+this.m_imageGap;
c=this.m_images[b].get("width");this.center(a,c);this.resizeNavigation(c);null!==this.m_imageChangeCallback&&this.m_imageChangeCallback(b);return b};Slider.prototype.center=function(b,a){b-=this.m_parentWidth/2-a/2;this.translate(b)};Slider.prototype.translate=function(b){b=0>=b?Math.abs(b):-b;this.m_imageWrapper.style.transform="translate("+b+"px)"};
