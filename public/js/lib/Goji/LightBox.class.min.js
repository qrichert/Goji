var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var c=0;return function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var c="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return c?c.call(a):$jscomp.arrayIterator(a)};
var LightBox=function(a){a=void 0===a?null:a;this.m_navigationNext=this.m_navigationPrevious=this.m_text=this.m_image=this.m_centerElement=this.m_closeCross=this.m_lightBox=null;this.m_isShown=!1;this.m_currentImageType=null;this.m_currentImageOffsetTop=this.m_currentImageNaturalHeight=this.m_currentImageClientHeight=this.m_currentImageNaturalWidth=0;this.m_closeCallback=this.m_nextImageCallback=this.m_previousImageCallback=null;this.m_navigationUsed=this.coalesce(a,"navigation_used",!0);this.m_navigationBlocksMinimumWidth=
this.coalesce(a,"navigation_blocks_minimum_width","100px");this.m_navigationArrowsWidth=this.coalesce(a,"navigation_arrows_width",50);this.m_navigationArrowsColor=this.coalesce(a,"navigation_arrows_color","white");this.m_navigationArrowsDisplayed=this.coalesce(a,"navigation_arrows_displayed",!0);this.m_useArrowKeysToNavigate=this.coalesce(a,"use_arrow_keys_to_navigate",!0);this.m_lightBoxZIndex=this.coalesce(a,"lightbox_zindex","1");this.m_lightBoxBackgroundColor=this.coalesce(a,"lightbox_background_color",
"rgba(0, 0, 17, 0.17)");this.m_lightBoxTextPadding=this.coalesce(a,"lightbox_text_padding",20);this.m_closeCrossShown=this.coalesce(a,"close_cross_shown",!0);this.m_closeCrossColor=this.coalesce(a,"close_cross_color","white");this.m_closeCrossSize=this.coalesce(a,"close_cross_size",20);this.m_closeCrossMargin=this.coalesce(a,"close_cross_margin","20px");this.m_closeCrossPosition=this.coalesce(a,"close_cross_position","top-right");this.m_transitionDuration=this.coalesce(a,"transition_duration",300);
this.init()};LightBox.prototype.coalesce=function(a,c,b){return"undefined"!=typeof a&&null!==a&&a.hasOwnProperty(c)?a[c]:b};
LightBox.prototype.init=function(){var a=document.createDocumentFragment();this.m_lightBox=document.createElement("div");this.m_lightBox.classList.add("lightbox");this.m_lightBox.setAttribute("tabindex","0");this.m_lightBox.style.backgroundColor=this.m_lightBoxBackgroundColor;this.m_lightBox.style.position="fixed";this.m_lightBox.style.top="0";this.m_lightBox.style.left="0";this.m_lightBox.style.width="100vw";this.m_lightBox.style.height="100vh";this.m_lightBox.style.flexDirection="row";this.m_lightBox.style.justifyContent=
"center";this.m_lightBox.style.alignItems="center";this.m_lightBox.style.overflow="hidden";this.m_lightBox.style.zIndex=this.m_lightBoxZIndex;this.showLightBox(!1);a.appendChild(this.m_lightBox);this.m_closeCross=document.createElement("div");this.m_closeCross.classList.add("lightbox__close-cross");this.m_closeCross.style.width=this.m_closeCrossSize+"px";this.m_closeCross.style.height=this.m_closeCrossSize+"px";this.m_closeCross.style.cursor="pointer";this.m_closeCross.style.position="absolute";this.m_closeCross.style.display=
this.m_closeCrossShown?"block":"none";switch(this.m_closeCrossPosition){case "top-left":case "left":this.m_closeCross.style.top=this.m_closeCrossMargin;this.m_closeCross.style.left=this.m_closeCrossMargin;break;case "bottom-left":this.m_closeCross.style.bottom=this.m_closeCrossMargin;this.m_closeCross.style.left=this.m_closeCrossMargin;break;case "bottom-right":this.m_closeCross.style.bottom=this.m_closeCrossMargin;this.m_closeCross.style.right=this.m_closeCrossMargin;break;default:this.m_closeCross.style.top=
this.m_closeCrossMargin,this.m_closeCross.style.right=this.m_closeCrossMargin}this.m_lightBox.appendChild(this.m_closeCross);var c=document.createElementNS("http://www.w3.org/2000/svg","svg");c.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");c.setAttributeNS(null,"version","1.1");c.setAttributeNS(null,"x","0px");c.setAttributeNS(null,"y","0px");c.setAttributeNS(null,"viewBox","0 0 150 150");c.style.width=this.m_closeCrossSize+"px";c.style.height=this.m_closeCrossSize+
"px";this.m_closeCross.appendChild(c);var b=document.createElementNS("http://www.w3.org/2000/svg","polygon");b.style.fill=this.m_closeCrossColor;b.setAttributeNS(null,"points","128.9,147.5 75,93.6 21.1,147.5 2.5,128.9 56.4,75 2.5,21.1 21.1,2.5 75,56.4 128.9,2.5 147.5,21.1 93.6,75 147.5,128.9 ");c.appendChild(b);this.m_centerElement=document.createElement("div");this.m_centerElement.classList.add("lightbox__center-element");this.m_centerElement.style.position="relative";this.m_centerElement.style.margin=
"auto";this.m_centerElement.style.width="90vw";this.m_centerElement.style.height="80vh";this.m_centerElement.style.display="flex";this.m_centerElement.style.flexDirection="column";this.m_centerElement.style.justifyContent="center";this.m_centerElement.style.alignItems="center";this.m_lightBox.appendChild(this.m_centerElement);this.m_text=document.createElement("div");this.m_text.classList.add("lightbox__text");this.m_text.style.backgroundColor="blue";this.m_text.style.width="100%";this.m_text.style.boxSizing=
"border-box";this.m_text.style.flexShrink="0";this.m_text.style.padding="0px";this.m_centerElement.appendChild(this.m_text);this.m_navigationPrevious=document.createElement("a");this.m_navigationNext=document.createElement("a");c=$jscomp.makeIterator([this.m_navigationPrevious,this.m_navigationNext]);for(b=c.next();!b.done;b=c.next()){b=b.value;b.classList.add("lightbox__navigation");b.style.cursor="pointer";b.style.position="absolute";b.style.display=this.m_navigationUsed?"flex":"none";b.style.flexDirection=
"row";b.style.justifyContent="center";b.style.alignItems="center";b.style.top="0px";b.style.width="calc(100% / 3)";b.style.height="100%";b.style.minWidth=this.m_navigationBlocksMinimumWidth;b.style.maxWidth="50%";b.style.transition="width "+this.m_transitionDuration+"ms ease,opacity "+this.m_transitionDuration+"ms ease";b.style.webkitTouchCallout="none";b.style.webkitUserSelect="none";b.style.mozUserSelect="none";b.style.msUserSelect="none";b.style.userSelect="none";this.m_centerElement.appendChild(b);
var d=document.createElement("div");d.style.display=this.m_navigationArrowsDisplayed?"flex":"none";d.style.flexDirection="row";d.style.justifyContent="center";d.style.alignItems="center";d.style.width=this.m_navigationArrowsWidth+"px";d.style.height=this.m_navigationArrowsWidth+"px";b.appendChild(d);var e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");e.setAttributeNS(null,"version","1.1");
e.setAttributeNS(null,"x","0px");e.setAttributeNS(null,"y","0px");e.setAttributeNS(null,"viewBox","0 0 50 50");e.style.width=.5*this.m_navigationArrowsWidth+"px";e.style.height=.5*this.m_navigationArrowsWidth+"px";d.appendChild(e);d=document.createElementNS("http://www.w3.org/2000/svg","polygon");d.style.fill=this.m_navigationArrowsColor;e.appendChild(d);b==this.m_navigationPrevious?(b.classList.add("previous"),b.style.left="0px",d.setAttributeNS(null,"points","34.5,46.1 36.6,43.9 17.6,25 36.6,6.1 34.5,3.9 13.4,25 ")):
(b.classList.add("next"),b.style.right="0px",d.setAttributeNS(null,"points","15.5,46.1 13.4,43.9 32.3,25 13.4,6.1 15.5,3.9 36.6,25 "))}document.body.appendChild(a);this.addListeners()};
LightBox.prototype.recalculateNavigationSize=function(){if("img"!=this.m_currentImageType)this.m_navigationPrevious.style.width="0px",this.m_navigationNext.style.width="0px",this.m_navigationPrevious.style.height=this.m_text.offsetTop+"px",this.m_navigationNext.style.height=this.m_text.offsetTop+"px",this.m_navigationPrevious.style.top="0px",this.m_navigationNext.style.top="0px";else if(0!==this.m_currentImageNaturalWidth&&0!==this.m_currentImageClientHeight&&0!==this.m_currentImageNaturalHeight){var a=
this.m_centerElement.clientWidth/2-this.m_currentImageClientHeight/this.m_currentImageNaturalHeight*this.m_currentImageNaturalWidth/2;this.m_navigationPrevious.style.width=a+"px";this.m_navigationNext.style.width=a+"px";this.m_navigationPrevious.style.height=this.m_currentImageClientHeight+"px";this.m_navigationNext.style.height=this.m_currentImageClientHeight+"px";this.m_navigationPrevious.style.top=this.m_currentImageOffsetTop+"px";this.m_navigationNext.style.top=this.m_currentImageOffsetTop+"px"}};
LightBox.prototype.setImage=function(a){var c=this,b=null;"img"==a.tagName.toLowerCase()?(b=document.createElement("img"),b.src=a.src,b.addEventListener("load",function(){c.m_currentImageType="img";c.m_currentImageNaturalWidth=b.naturalWidth;c.m_currentImageClientHeight=b.clientHeight;c.m_currentImageNaturalHeight=b.naturalHeight;c.m_currentImageOffsetTop=b.offsetTop;c.recalculateNavigationSize()},!1),b.alt=a.alt,b.style.minHeight="1px"):(b=a.cloneNode(!0),b.style.height="100%",this.m_currentImageType=
"div",this.m_currentImageOffsetTop=this.m_currentImageNaturalHeight=this.m_currentImageClientHeight=this.m_currentImageNaturalWidth=0,this.recalculateNavigationSize());b.style.margin="0";b.style.width="100%";b.style.objectFit="contain";b.style.boxSizing="border-box";b.classList.add("lightbox__image");this.m_centerElement.insertBefore(b,this.m_text);null!==this.m_image&&this.m_centerElement.removeChild(this.m_image);this.m_image=b;this.m_image.addEventListener("click",function(a){a.stopPropagation()},
!1)};LightBox.prototype.setImageFromURL=function(a,c){c=void 0===c?"":c;var b=document.createElement("img");b.src=a;b.alt=c;this.setImage(b)};LightBox.prototype.clearText=function(){this.m_text.innerHTML="";this.m_text.style.padding="0px"};LightBox.prototype.setText=function(a){if(a&&0!==a.length){this.m_text.innerHTML="";this.m_text.style.padding=this.m_lightBoxTextPadding+"px";var c=document.createElement("p");c.style.margin="0";c.style.padding="0";c.textContent=a;this.m_text.appendChild(c)}else this.clearText()};
LightBox.prototype.setTextHTML=function(a){a&&0!==a.length?(this.m_text.innerHTML=a,this.m_text.style.padding=this.m_lightBoxTextPadding+"px"):this.clearText()};LightBox.prototype.setPreviousImageCallback=function(a){this.m_previousImageCallback=a};LightBox.prototype.previousImage=function(){this.m_navigationUsed&&null!==this.m_previousImageCallback&&this.m_previousImageCallback()};LightBox.prototype.setNextImageCallback=function(a){this.m_nextImageCallback=a};
LightBox.prototype.nextImage=function(){this.m_navigationUsed&&null!==this.m_nextImageCallback&&this.m_nextImageCallback()};LightBox.prototype.getIsLightBoxShown=function(){return this.m_isShown};LightBox.prototype.setCloseCallback=function(a){this.m_closeCallback=a};LightBox.prototype.showLightBox=function(a){this.m_isShown=a;this.m_lightBox.style.display=a?"flex":"none";a&&this.m_lightBox.focus();a||null===this.m_closeCallback||this.m_closeCallback()};
LightBox.prototype.showPreviousArrow=function(a){this.m_navigationArrowsDisplayed&&(this.m_navigationPrevious.style.opacity=a?"1":"0")};LightBox.prototype.showNextArrow=function(a){this.m_navigationArrowsDisplayed&&(this.m_navigationNext.style.opacity=a?"1":"0")};
LightBox.prototype.addListeners=function(){var a=this,c=function(b){b.preventDefault();b.stopPropagation();a.showLightBox(!1)};this.m_lightBox.addEventListener("click",c,!1);this.m_closeCross.addEventListener("click",c,!1);window.addEventListener("resize",function(){a.recalculateNavigationSize()},!1);var b=function(b){b.preventDefault();b.stopPropagation();a.previousImage()},d=function(b){b.preventDefault();b.stopPropagation();a.nextImage()};this.m_navigationPrevious.addEventListener("click",b,!1);
this.m_navigationNext.addEventListener("click",d,!1);this.m_useArrowKeysToNavigate&&document.addEventListener("keyup",function(c){if(c.target===a.m_lightBox)switch(c.key){case "ArrowLeft":b(c);break;case "ArrowRight":d(c)}},!1);document.addEventListener("keyup",function(b){b.target===a.m_lightBox&&"Escape"==b.key&&a.showLightBox(!1)},!1)};
