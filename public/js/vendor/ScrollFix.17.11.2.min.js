/*
	Copyright Â© 2017 Quentin Richert <https://www.quentinrichert.com/>
	Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License
	See http://creativecommons.org/licenses/by-nc-nd/4.0/
	Please contact the author for commercial use.
*/

function ScrollFix(d){var b=this,c=null;this.m_parent=d;this.m_parent.style.display="flex";this.m_parent.style.flexDirection="row";this.m_parent.style.justifyContent="center";this.m_parent.style.alignItems="flex-start";this.m_scrolls=d.getElementsByClassName("scroll-fix-scroll");for(c=0;c<this.m_scrolls.length;c++)this.m_scrolls[c].style.minHeight="100vh",this.m_parent.style.backgroundColor=window.getComputedStyle(this.m_scrolls[c],null).getPropertyValue("background-color");this.m_fixed=d.getElementsByClassName("scroll-fix-fixed");
this.m_contents=[];for(c=0;c<this.m_fixed.length;c++)this.m_fixed[c].style.minHeight="100vh",this.m_fixed[c].style.position="relative",this.m_fixed[c].dataset.offsetLeft=this.m_fixed[c].offsetLeft,this.m_contents[c]=this.m_fixed[c].getElementsByClassName("scroll-fix-fixed-content")[0],this.m_contents[c].style.minHeight="100vh",this.m_contents[c].style.width="100%",this.m_fixed[c].style.backgroundColor=window.getComputedStyle(this.m_contents[c],null).getPropertyValue("background-color");this.m_currentState=
null;this.m_scrollEvent=function(){var a=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;if(d.offsetTop>a){if(0!=b.m_currentState)for(a=b.m_currentState=0;a<b.m_contents.length;a++)b.m_contents[a].style.position="absolute",b.m_contents[a].style.top="0",b.m_contents[a].style.bottom="auto",b.m_contents[a].style.left="0",b.m_contents[a].style.maxWidth="none"}else if(d.offsetTop<a&&d.offsetTop+d.offsetHeight>a+window.innerHeight){if(1!=b.m_currentState)for(b.m_currentState=
1,a=0;a<b.m_contents.length;a++)b.m_contents[a].style.position="fixed",b.m_contents[a].style.top="0",b.m_contents[a].style.bottom="auto",b.m_contents[a].style.left=b.m_fixed[a].dataset.offsetLeft+"px",b.m_contents[a].style.maxWidth="inherit"}else if(2!=b.m_currentState)for(b.m_currentState=2,a=0;a<b.m_contents.length;a++)b.m_contents[a].style.position="absolute",b.m_contents[a].style.top="auto",b.m_contents[a].style.bottom="0",b.m_contents[a].style.left="0",b.m_contents[a].style.maxWidth="none"};
this.m_scrollEvent();document.addEventListener("scroll",this.m_scrollEvent,!1);this.m_recalculateSizes=function(){var a,c=null;for(a=0;a<b.m_scrolls.length;a++){var d=Number(b.m_scrolls[a].offsetHeight);null==c&&(c=d);d>c&&(c=d)}for(a=0;a<b.m_fixed.length;a++)b.m_fixed[a].style.height=c+"px",b.m_fixed[a].dataset.offsetLeft=b.m_fixed[a].offsetLeft;b.m_scrollEvent()};this.m_recalculateSizes();setTimeout(this.m_recalculateSizes,500);setTimeout(this.m_recalculateSizes,2500);setTimeout(this.m_recalculateSizes,
3E3);window.addEventListener("resize",this.m_recalculateSizes,!1)};