/*
	Copyright Â© 2017 Quentin Richert <https://www.quentinrichert.com/>
	Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License
	See http://creativecommons.org/licenses/by-nc-nd/4.0/
	Please contact the author for commercial use.
*/

(function(){function c(c,a){a=a||{bubbles:!1,cancelable:!1,detail:void 0};var b=document.createEvent("CustomEvent");b.initCustomEvent(c,a.bubbles,a.cancelable,a.detail);return b}if("function"===typeof window.CustomEvent)return!1;c.prototype=window.Event.prototype;window.CustomEvent=c})();
function TagsInput(c,e,a){var b=this,f="ontouchend"in window?"touchend":"click";this.m_tagsDisplay=c;this.m_tagsInput=e;this.m_tagsElements=[];this.m_tags=[];this.getTags=function(){return this.m_tags};this.m_maxNumberOfTags=void 0===a?-1:a;this.addTag=function(d){if(!(-1!=b.m_maxNumberOfTags&&b.m_maxNumberOfTags<=b.m_tagsElements.length)&&""!=d)if(/\s/.test(d))d.split(/\s/).forEach(b.addTag);else{var a=document.createElement("div");a.classList.add("tag");a.textContent=d;b.m_tagsDisplay.appendChild(a);
b.m_tagsElements.push(a);b.m_tags.push(d);b.m_tagsInput.dispatchEvent(new CustomEvent("tagadded"));a.addEventListener(f,function(a){a.preventDefault();a.stopImmediatePropagation();a.stopPropagation();a=b.m_tagsElements.indexOf(this);b.m_tagsElements.splice(a,1);b.m_tags.splice(a,1);b.m_tagsDisplay.removeChild(this);b.m_tagsInput.dispatchEvent(new CustomEvent("tagremoved"))},!1);-1!=b.m_maxNumberOfTags&&b.m_maxNumberOfTags<=b.m_tagsElements.length&&b.m_tagsInput.dispatchEvent(new CustomEvent("maximumreached"))}};
this.m_tagsInput.addEventListener("keydown",function(a){if(-1!=b.m_maxNumberOfTags&&b.m_maxNumberOfTags<=b.m_tagsElements.length)a.preventDefault();else if("Enter"==a.key||" "==a.key||"Spacebar"==a.key)a.preventDefault(),a=b.m_tagsInput.value,b.m_tagsInput.value="",""!=a&&b.addTag(a)})};